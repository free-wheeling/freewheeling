<interface>
<bindings>
<!--


  This is the bindings part of the configuration file. Here you can 
  specify how FreeWheeling responds to the input commands you give it.

  
-->
<!-- Variables -->
<!--
 Note: You can't declare one variable with an initial value based on
               another variable. All init values must be scalar numbers. 

               So the following will not work:
               <declare var="VAR_my_variable" type="int" init="VAR_my_other+1"/> 
      
-->
<!--
 Display IDs- so we can refer to displays for turning them on/off 
-->
<declare var="DISPLAY_browser_patch" type="int" init="0"/>
<declare var="DISPLAY_browser_loop" type="int" init="1"/>
<declare var="DISPLAY_browser_scene" type="int" init="2"/>
<declare var="DISPLAY_syncpanel" type="int" init="3"/>
<declare var="VAR_max_browser" type="int" init="2"/>
<declare var="VAR_cur_browser" type="int" init="0"/>
<declare var="DISPLAY_loop_tray" type="int" init="10"/>
<declare var="DISPLAY_scenes" type="int" init="2000"/>
<!-- Show sync panel? -->
<declare var="VAR_syncpanel_show" type="int" init="0"/>
<declare var="VAR_numsync_per_pulse" type="int" init="1"/>
<declare var="VAR_synctype" type="int" init="0"/>
<declare var="VAR_midisync" type="int" init="0"/>
<declare var="VAR_keyheld_up" type="char" init="0"/>
<declare var="VAR_keyheld_down" type="char" init="0"/>
<declare var="VAR_keyheld_shift" type="char" init="0"/>
<declare var="VAR_keyheld_ctrl" type="char" init="0"/>
<declare var="VAR_keyheld_alt" type="char" init="0"/>
<declare var="VAR_keyheld_space" type="char" init="0"/>
<declare var="VAR_switch_on" type="range" init="64>127"/>
<declare var="VAR_switch_off" type="int" init="0"/>
<declare var="VAR_overdubmode" type="char" init="0"/>
<declare var="VAR_overdubfeedback" type="float" init="0.8"/>
<!-- Range of audio inputs -->
<declare var="VAR_inputs" type="range" init="1>4"/>
<declare var="VAR_zero_keysym" type="int" init="257"/>
<!-- Range of snapshots adjustable by keyboard -->
<declare var="VAR_snaps" type="range" init="1>9"/>
<!-- Last 2 snapshots triggered -->
<declare var="VAR_snapid_last1" type="int" init="-1"/>
<declare var="VAR_snapid_last2" type="int" init="-1"/>
<declare var="VAR_switch_metronome" type="char" init="0"/>
<declare var="VAR_cutmode" type="char" init="0"/>
<declare var="VAR_shotmode" type="char" init="0"/>
<declare var="VAR_xferloop" type="char" init="0"/>
<declare var="VAR_xferidx" type="int" init="0"/>
<!--
 Development mode sets options that I use for development, testing, 
         and playing. I don't recommend you use it. 
-->
<declare var="VAR_develmode" type="char" init="0"/>
<declare var="VAR_auto_loop_save" type="char" init="0"/>
<!-- HELP: Les touches entre [] sont pour les claviers de portables. -->
<!--HELP: Les touches entre {} sont des touches du pave numerique. -->
<!--HELP: La touche ^2 fait reference au "au carre" a gauche du &. -->
<!--HELP: Lorsqu'il est question de touches 0 a 9 il s'agit des touches numeriques-->
<!--
 HELP: au dessus des lettres, plus precisement de '&' a 'a accent grave'. 
-->
<!--
 HELP: Les accents ne sont pas geres correctement par FW pour le moment, 
-->
<!--
 HELP: veillez donc a ne pas les utiliser lorsque vous renommez 
-->
<!-- 
HELP: quoique ce soit. 
-->
<!-- HELP: -->
<!--
 Laptop keyboard mode reorganizes keys for smaller keyboards that
         are missing some keys. 
-->
<declare var="VAR_laptopkeymode" type="char" init="1"/>
<declare var="VAR_videofullscreen" type="char" init="0"/>
<declare var="VAR_showdebuginfo" type="char" init="0"/>
<declare var="VAR_helppage" type="char" init="0"/>
<declare var="VAR_showinterface" type="int" init="1"/>
<declare var="VAR_loopid_default_range" type="range" init="600>1000"/>
<!-- How fast do loop volumes slide (when active) -->
<declare var="VAR_slide_speed" type="float" init="0.3"/>
<!--
 How much are loop amplitudes adjusted when operating on entire
         selections? 
-->
<declare var="VAR_loopamp_adj" type="float" init="0.9"/>
<declare var="VAR_channelrange" type="range" init="0>15"/>
<!-- What to do on startup -->
<binding input="start-freewheeling" output1="set-auto-loop-saving" parameters1="save=VAR_auto_loop_save" output2="set-default-loop-placement" parameters2="looprange=VAR_loopid_default_range" output3="video-switch-interface" parameters3="interfaceid=VAR_showinterface"/>
<!-- Subroutine 100- Display browser with given ID -->
<binding input="go-sub" conditions="sub=100" output1="video-show-display" parameters1="interfaceid=0 and displayid=VAR_cur_browser and show=0" output2="set-variable" parameters2="var=VAR_cur_browser and value=param1" output3="video-show-display" parameters3="interfaceid=0 and displayid=VAR_cur_browser and show=1"/>
<!--
 Subroutine 101- Trigger snapshot with given ID, storing last 2 triggered snapshots 
-->
<binding input="go-sub" conditions="sub=101" output1="trigger-snapshot" parameters1="snapid=param1" output2="set-variable" parameters2="var=VAR_snapid_last2 and value=VAR_snapid_last1" output3="set-variable" parameters3="var=VAR_snapid_last1 and value=param1"/>
<!-- HELP: -->
<!-- HELP: __ CONTROLE DE BASE __ -->
<!-- HELP: -->
<!-- HELP: Echap: Fermer -->
<binding input="key" conditions="key=escape and keydown=1" output="exit-freewheeling"/>
<!-- HELP: / : Affiche l'aide, appuyez pour defiler -->
<binding input="key" conditions="key=colon and keydown=1" output1="toggle-variable" parameters1="var=VAR_helppage and maxvalue=SYSTEM_num_help_pages" output2="video-show-help" parameters2="page=VAR_helppage"/>
<!--HELP: [Maj + entree] {Entr}: Affiche les infos de debug -->
<binding input="key" conditions="VAR_laptopkeymode=1 and VAR_keyheld_shift=1 and key=return and keydown=1" output1="toggle-variable" parameters1="var=VAR_showdebuginfo and maxvalue=1" output2="show-debug-info" parameters2="show=VAR_showdebuginfo"/>
<binding input="key" conditions="key=enter and keydown=1" output1="toggle-variable" parameters1="var=VAR_showdebuginfo and maxvalue=1" output2="show-debug-info" parameters2="show=VAR_showdebuginfo"/>
<!-- HELP: [F3] Pause: Mode plein ecran -->
<binding input="key" conditions="VAR_laptopkeymode=1 and key=f3 and keydown=1" output1="toggle-variable" parameters1="var=VAR_videofullscreen and maxvalue=1" output2="video-full-screen" parameters2="fullscreen=VAR_videofullscreen"/>
<binding input="key" conditions="key=pause and keydown=1" output1="toggle-variable" parameters1="var=VAR_videofullscreen and maxvalue=1" output2="video-full-screen" parameters2="fullscreen=VAR_videofullscreen"/>
<!--HELP: [F4] ImprEcran: Active l'enregistrement sur le disque -->
<binding input="key" conditions="VAR_laptopkeymode=1 and key=f4 and keydown=1" output="toggle-disk-output"/>
<binding input="key" conditions="key=printscreen and keydown=1" output="toggle-disk-output"/>
<!-- This binding toggles development mode. -->
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=d and keydown=1" output="toggle-variable" parameters="var=VAR_develmode and maxvalue=1"/>
<!--
 This binding is for development and 
         starts disk output from a MIDI keyboard. 
-->
<binding input="midikey" conditions="notenum=47 and VAR_develmode=1 and keydown=1" output="toggle-disk-output"/>
<!--
 This binding (development) triggers a MIDI note from the QWERTY
         keyboard. 
-->
<binding input="key" conditions="key=d and VAR_develmode=1" output="midikey" parameters="keydown=keydown and outport=1 and midichannel=0 and notenum=37 and velocity=127"/>
<!-- Early bindings- LOOPS -->
<!-- Create snapshots -->
<binding input="key" conditions="VAR_keyheld_shift=1 and key=ampersand and keydown=1" output="create-snapshot" parameters="snapid=0+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=world73 and keydown=1" output="create-snapshot" parameters="snapid=1+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=dblquote and keydown=1" output="create-snapshot" parameters="snapid=2+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=backquote and keydown=1" output="create-snapshot" parameters="snapid=3+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=openparen and keydown=1" output="create-snapshot" parameters="snapid=4+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=minus and keydown=1" output="create-snapshot" parameters="snapid=5+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=world72 and keydown=1" output="create-snapshot" parameters="snapid=6+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=underscore and keydown=1" output="create-snapshot" parameters="snapid=7+SYSTEM_snapshot_page_firstidx"/>
<!--

    <binding input="key" conditions="VAR_keyheld_shift=1 and
                                     key=KP0 and
                                     keydown=1"
     output="create-snapshot" 
     parameters="snapid=9+SYSTEM_snapshot_page_firstidx"/>
-->
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=ampersand and keydown=1" output="go-sub" parameters="sub=101 and param1=0+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=world73 and keydown=1" output="go-sub" parameters="sub=101 and param1=1+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=dblquote and keydown=1" output="go-sub" parameters="sub=101 and param1=2+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=backquote and keydown=1" output="go-sub" parameters="sub=101 and param1=3+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=openparen and keydown=1" output="go-sub" parameters="sub=101 and param1=4+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=minus and keydown=1" output="go-sub" parameters="sub=101 and param1=5+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=world72 and keydown=1" output="go-sub" parameters="sub=101 and param1=6+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=underscore and keydown=1" output="go-sub" parameters="sub=101 and param1=7+SYSTEM_snapshot_page_firstidx"/>
<!--

    <binding input="key" conditions="VAR_keyheld_ctrl=1 and
                                     key=VAR_snaps+VAR_zero_keysym and
                                     keydown=1"
     output="go-sub" 
     parameters="sub=101 and param1=key-VAR_zero_keysym-1+SYSTEM_snapshot_page_firstidx"/>
-->
<binding input="key" conditions="VAR_keyheld_alt=1 and key=ampersand and keydown=1" output="rename-snapshot" parameters="snapid=0+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_alt=1 and key=world73 and keydown=1" output="rename-snapshot" parameters="snapid=1+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_alt=1 and key=dblquote and keydown=1" output="rename-snapshot" parameters="snapid=2+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_alt=1 and key=backquote and keydown=1" output="rename-snapshot" parameters="snapid=3+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_alt=1 and key=openparen and keydown=1" output="rename-snapshot" parameters="snapid=4+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_alt=1 and key=minus and keydown=1" output="rename-snapshot" parameters="snapid=5+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_alt=1 and key=world72 and keydown=1" output="rename-snapshot" parameters="snapid=6+SYSTEM_snapshot_page_firstidx"/>
<binding input="key" conditions="VAR_keyheld_alt=1 and key=underscore and keydown=1" output="rename-snapshot" parameters="snapid=7+SYSTEM_snapshot_page_firstidx"/>
<!--

    <binding input="key" conditions="VAR_keyheld_alt=1 and
                                     key=VAR_snaps+VAR_zero_keysym and
                                     keydown=1"
     output="rename-snapshot" 
     parameters="snapid=key-VAR_zero_keysym-1+SYSTEM_snapshot_page_firstidx"/>
-->
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=comma and keydown=1" output="video-show-snapshot-page" parameters="interfaceid=0 and displayid=DISPLAY_scenes and page=-1"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=semicolon and keydown=1" output="video-show-snapshot-page" parameters="interfaceid=0 and displayid=DISPLAY_scenes and page=1"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=comma and keydown=1" output="video-show-snapshot-page" parameters="interfaceid=0 and displayid=DISPLAY_scenes and page=-1"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=semicolon and keydown=1" output="video-show-snapshot-page" parameters="interfaceid=0 and displayid=DISPLAY_scenes and page=1"/>
<!-- HELP: -->
<!-- HELP: __ CONTROLE DES VOLUMES __ -->
<!-- HELP: -->
<!-- HELP: 1-4: Active/Desactive les entrees lignes -->
<!--HELP: haut/bas + 1-4: +/- ajuste le volume de l'entree 1-4 -->
<!--
 DISABLED-
         HELP: 1-4: Select inputs for footpedal volume adjust (CC1) 
-->
<!-- Slide -->
<binding input="key" conditions="VAR_keyheld_up=1 and key=ampersand and keydown=1" output="slide-in-volume" parameters="input=1 and slide=VAR_slide_speed"/>
<binding input="key" conditions="VAR_keyheld_up=1 and key=world73 and keydown=1" output="slide-in-volume" parameters="input=2 and slide=VAR_slide_speed"/>
<binding input="key" conditions="VAR_keyheld_up=1 and key=dblquote and keydown=1" output="slide-in-volume" parameters="input=3 and slide=VAR_slide_speed"/>
<binding input="key" conditions="VAR_keyheld_up=1 and key=backquote and keydown=1" output="slide-in-volume" parameters="input=4 and slide=VAR_slide_speed"/>
<!--

    <binding input="key" conditions="VAR_keyheld_up=1 and key=VAR_inputs+VAR_zero_keysym and
                                     keydown=1"
     output="slide-in-volume" parameters="input=key-VAR_zero_keysym and
                                          slide=VAR_slide_speed"/>
-->
<binding input="key" conditions="VAR_keyheld_down=1 and key=ampersand and keydown=1" output="slide-in-volume" parameters="input=1 and slide=-VAR_slide_speed"/>
<binding input="key" conditions="VAR_keyheld_down=1 and key=world73 and keydown=1" output="slide-in-volume" parameters="input=2 and slide=-VAR_slide_speed"/>
<binding input="key" conditions="VAR_keyheld_down=1 and key=dblquote and keydown=1" output="slide-in-volume" parameters="input=3 and slide=-VAR_slide_speed"/>
<binding input="key" conditions="VAR_keyheld_down=1 and key=backquote and keydown=1" output="slide-in-volume" parameters="input=4 and slide=-VAR_slide_speed"/>
<!--

    <binding input="key" conditions="VAR_keyheld_down=1 and
                                     key=VAR_inputs+VAR_zero_keysym and 
                                     keydown=1"
     output="slide-in-volume" parameters="input=key-VAR_zero_keysym and
                                          slide=-VAR_slide_speed"/>
-->
<!-- Toggle -->
<binding input="key" conditions="key=ampersand and keydown=1" output="toggle-input-record" parameters="input=1"/>
<binding input="key" conditions="key=world73 and keydown=1" output="toggle-input-record" parameters="input=2"/>
<binding input="key" conditions="key=dblquote and keydown=1" output="toggle-input-record" parameters="input=3"/>
<binding input="key" conditions="key=backquote and keydown=1" output="toggle-input-record" parameters="input=4"/>
<!--

    <binding input="key" conditions="key=VAR_inputs+VAR_zero_keysym and
                                     keydown=1"
     output="toggle-input-record" parameters="input=key-VAR_zero_keysym"/>
-->
<!--
 DISABLED- Footpedal adjust
         Sub 2: Footpedal adjust- param1 is parameter to adjust
         This sub is called whenever a parameter needs to be adjusted by the
         footpedal
    <binding input="go-sub" conditions="sub=2 and param1=VAR_inputs"
     output1="set-in-volume" parameters1="input=param1 and vol=param2"/>

         Here is the binding that calls sub 2:
    <binding input="midicontroller" 
     conditions="controlnum=VAR_footpedal_ctrl_num and VAR_footpedal_ignore=0"
     output="go-sub" parameters="sub=2 and
                                 param1=VAR_footpedal_mode and
                                 param2=controlval/127*VAR_footpedal_vol_max"/>

         And here are the input selectors for footpedal adjust:
    <binding input="key" conditions="key=VAR_inputs+VAR_zero_keysym and
                                     keydown=1"
     output1="set-variable" parameters1="var=VAR_footpedal_ignore and
                                         value=1"
     output2="set-variable" parameters2="var=VAR_footpedal_mode and
                                         value=key-VAR_zero_keysym"/>
    <binding input="key" conditions="key=VAR_inputs+VAR_zero_keysym and
                                     keydown=0"
     output="set-variable" parameters="var=VAR_footpedal_ignore and
                                       value=0"/>       
      
-->
<!--HELP: Alt + *: Arreter tous les changements de volumes des boucles -->
<!-- 
HELP: : (active via haut + clic) 
-->
<binding input="key" conditions="VAR_keyheld_alt=1 and key=asterisk and keydown=1" output="slide-loop-amplifier-stop-all"/>
<!--
 HELP: [;,] Ins/Spr/Ret.Arr: +/-/re-init le volume master en entree 
-->
<!-- semilicon -->
<binding input="key" conditions="VAR_laptopkeymode=1 and key=exclamation and keydown=1" output="slide-master-in-volume" parameters="slide=VAR_slide_speed"/>
<!-- backquote -->
<binding input="key" conditions="VAR_laptopkeymode=1 and key=world89 and keydown=1" output="slide-master-in-volume" parameters="slide=-VAR_slide_speed"/>
<binding input="key" conditions="key=insert and keydown=1" output="slide-master-in-volume" parameters="slide=VAR_slide_speed"/>
<binding input="key" conditions="key=delete and keydown=1" output="slide-master-in-volume" parameters="slide=-VAR_slide_speed"/>
<binding input="key" conditions="key=backspace and keydown=1" output="set-master-in-volume" parameters="vol=1.0"/>
<!--
 HELP: [^$] Deb/Fin/*: +/-/re-init le volume master en sortie 
-->
<!-- squarebracketopen -->
<binding input="key" conditions="VAR_laptopkeymode=1 and key=caret and keydown=1" output="slide-master-out-volume" parameters="slide=VAR_slide_speed/2"/>
<!-- squarebracketclose -->
<binding input="key" conditions="VAR_laptopkeymode=1 and key=dollarsign and keydown=1" output="slide-master-out-volume" parameters="slide=-VAR_slide_speed/2"/>
<binding input="key" conditions="key=home and keydown=1" output="slide-master-out-volume" parameters="slide=VAR_slide_speed/2"/>
<binding input="key" conditions="key=end and keydown=1" output="slide-master-out-volume" parameters="slide=-VAR_slide_speed/2"/>
<!-- backslash -->
<binding input="key" conditions="key=asterisk and keydown=1" output="set-master-out-volume" parameters="vol=1.0"/>
<!-- 
HELP: haut/bas + clic: +/- volume de la boucle 
-->
<binding input="loop-clicked" conditions="VAR_keyheld_up=1 and button=1 and down=1" output="slide-loop-amplifier" parameters="loopid=loopid and slide=VAR_slide_speed/2"/>
<binding input="loop-clicked" conditions="VAR_keyheld_down=1 and button=1 and down=1" output="slide-loop-amplifier" parameters="loopid=loopid and slide=-VAR_slide_speed/2"/>
<!--
HELP: Ctrl + Molette: +/- volume de toutes les boucles selectionnees 
-->
<binding input="loop-clicked" conditions="button=4 and VAR_keyheld_ctrl=1" output="adjust-selected-loops-amp" parameters="setid=0 and ampfactor=1.0/VAR_loopamp_adj"/>
<binding input="loop-clicked" conditions="button=5 and VAR_keyheld_ctrl=1" output="adjust-selected-loops-amp" parameters="setid=0 and ampfactor=VAR_loopamp_adj"/>
<!-- HELP: Molette : +/- volume de la boucle-->
<binding input="loop-clicked" conditions="button=4" output="adjust-loop-amplifier" parameters="loopid=loopid and ampfactor=1.0/VAR_loopamp_adj"/>
<binding input="loop-clicked" conditions="button=5" output="adjust-loop-amplifier" parameters="loopid=loopid and ampfactor=VAR_loopamp_adj"/>
<!--
 HELP: Ctrl + haut/bas: Ajuste le volume de toutes les boucles selectionnees 
-->
<!-- Renaming loops by clicking -->
<binding input="loop-clicked" conditions="VAR_keyheld_ctrl=1 and button=1 and down=1" output="rename-loop" parameters="loopid=loopid and in=in"/>
<!-- Slide Loop Volumes -->
<!--
 HELP: haut/bas + decl./clic: Active + ou - l'augmentation/diminution du volume 
-->
<!--
 HELP:: en continu de la boucle (arret de toutes les  
-->
<!--
 HELP:: augmentations/diminutions en continu via Alt+*) 
-->
<!-- See definitions in different interfaces -->
<!--
 HELP: mode cut + decl./clic: Joue la boucle avec le volume sensible a la 
-->
<!--
 HELP:: velocite (avec le clavier/souris la velocite est toujours 1) 
-->
<!-- Set Trigger Volume (play volume) for Loops -->
<!-- See definitions in different interfaces -->
<binding input="loop-clicked" conditions="VAR_cutmode=1 and button=1" output="set-trigger-volume" parameters="loopid=loopid and vol=1.0*down"/>
<!-- HELP: -->
<!-- HELP: __ GESTION MIDI __ -->
<!-- HELP: -->
<!--
 HELP: [,;] {Ins}/{Sppr}: Transpose la sortie MIDI 
-->
<binding input="key" conditions="VAR_laptopkeymode=1 and key=comma and keydown=1" output="adjust-midi-transpose" parameters="adjust=-12"/>
<binding input="key" conditions="VAR_laptopkeymode=1 and key=semicolon and keydown=1" output="adjust-midi-transpose" parameters="adjust=12"/>
<binding input="key" conditions="key=KP0 and keydown=1" output="adjust-midi-transpose" parameters="adjust=-12"/>
<binding input="key" conditions="key=KPperiod and keydown=1" output="adjust-midi-transpose" parameters="adjust=12"/>
<!--
 HELP: (Maj) + 0: Init/(Reset) de l'accordage depuis le MIDI pitchbender 
-->
<binding input="key" conditions="key=world64 and keydown=1" output="set-midi-tuning" parameters="tuning=0"/>
<binding input="key" conditions="key=world64 and keydown=1" output="set-midi-tuning" parameters="tuning=SYSTEM_cur_pitchbend"/>
<!-- HELP: -->
<!-- HELP: __ GESTION DES BOUCLES __ -->
<!-- HELP: -->
<!--HELP: Maj + 1-8: Creer une photo #1-8 de l'etat des boucles -->
<!-- HELP: Ctrl + 1-8: Restaurer la photo #1-8 -->
<!-- HELP: Alt + 1-8: Renommer la photo #1-8 -->
<!--HELP: Maj/Ctrl + ,;: Naviguer dans les pages des photos -->
<!--
 HELP: Alt + p: Inverser les deux dernieres photos restaurees
-->
<binding input="key" conditions="VAR_keyheld_alt=1 and key=p and keydown=1" output="swap-snapshots" parameters="snapid1=VAR_snapid_last1 and snapid2=VAR_snapid_last2"/>
<!-- HELP: Maj + clic: Selectionne la boucle -->
<!-- HELP: clic droit: Selectionne la boucle -->
<binding input="loop-clicked" conditions="VAR_keyheld_shift=1 and button=1 and down=1" output="toggle-select-loop" parameters="setid=0 and loopid=loopid"/>
<binding input="loop-clicked" conditions="button=3 and down=1" output="toggle-select-loop" parameters="setid=0 and loopid=loopid"/>
<!-- Erase Loops -->
<!-- HELP: espace + decl./clic: Efface la boucle -->
<binding input="loop-clicked" conditions="VAR_keyheld_space=1 and button=1 and down=1" output="erase-loop" parameters="loopid=loopid"/>
<!-- Move Loops -->
<binding input="loop-clicked" conditions="VAR_xferloop=1 and button=1 and down=1" output1="move-loop" parameters1="oldloopid=VAR_xferidx and newloopid=loopid" output2="set-variable" parameters2="var=VAR_xferloop and value=0"/>
<!-- 
HELP: overdub + decl.: Overdub dans la boucle 
-->
<!-- Overdub Loops -->
<binding input="loop-clicked" conditions="VAR_overdubmode=1 and button=1 and down=1" output="trigger-loop" parameters="overdub=1 and overdubfeedback=VAR_overdubfeedback and loopid=loopid and vol=1.0"/>
<!--
 HELP: decl./clic: Enregistre/Joue/Stoppe la boucle 
-->
<!-- Trigger Loops -->
<binding input="loop-clicked" conditions="button=1 and down=1" output="trigger-loop" parameters="loopid=loopid and vol=1.0"/>
<!--HELP: {*}/[<] : Selectionne les boucles en cours de lecture -->
<!--HELP: Maj + {*}/[<]: Selectionne les boucles inactives -->
<!-- HELP: Ctrl + {*}/[<]: Inverse la selection -->
<!--
 HELP: Alt + {*}/[*]: Deselectionne toutes les boucles 
-->
<binding input="key" conditions="VAR_laptopkeymode=1 and VAR_keyheld_shift=1 and key=lessthan and keydown=1" output="select-only-playing-loops" parameters="setid=0 and playing=0"/>
<binding input="key" conditions="VAR_laptopkeymode=1 and VAR_keyheld_alt=1 and key=lessthan and keydown=1" output="select-all-loops" parameters="setid=0 and select=0"/>
<binding input="key" conditions="VAR_laptopkeymode=1 and VAR_keyheld_ctrl=1 and key=lessthan and keydown=1" output="invert-selection" parameters="setid=0"/>
<binding input="key" conditions="VAR_laptopkeymode=1 and key=lessthan and keydown=1" output="select-only-playing-loops" parameters="setid=0 and playing=1"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=KPasterisk and keydown=1" output="select-only-playing-loops" parameters="setid=0 and playing=0"/>
<binding input="key" conditions="VAR_keyheld_alt=1 and key=KPasterisk and keydown=1" output="select-all-loops" parameters="setid=0 and select=0"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=KPasterisk and keydown=1" output="invert-selection" parameters="setid=0"/>
<binding input="key" conditions="key=KPasterisk and keydown=1" output="select-only-playing-loops" parameters="setid=0 and playing=1"/>
<!-- HELP: t: Joue/Stoppe les boucles selectionnee -->
<binding input="key" conditions="key=t and keydown=1" output="trigger-selected-loops" parameters="setid=0 and vol=1.0 and toggleloops=1"/>
<!-- HELP: Tab: Navigue entre les interfaces -->
<binding input="key" conditions="key=tab and keydown=1" output1="toggle-variable" parameters1="var=VAR_showinterface and maxvalue=SYSTEM_num_switchable_interfaces and minvalue=1" output2="video-switch-interface" parameters2="interfaceid=VAR_showinterface"/>
<!-- HELP: Ctrl + clic: Renomme une boucle -->
<!--
 See 'Renaming loops by clicking'- binding defined earlier for
         precedence 
-->
<!-- HELP: u: Annule la derniere boucle enregistree -->
<binding input="key" conditions="SYSTEM_loopid_lastrecord_0=VAR_loopid_footswitch and key=u and keydown=1" output1="erase-loop" parameters1="loopid=SYSTEM_loopid_lastrecord_0" output2="set-variable" parameters2="var=VAR_xferloop and value=0"/>
<!--
 HELP: Maj + espace: Efface toutes les boucles selectionnees 
-->
<binding input="key" conditions="VAR_keyheld_alt=1 and key=space and keydown=1" output="erase-selected-loops" parameters="setid=0"/>
<!-- HELP: Maj + espace: Efface toutes les boucles -->
<binding input="key" conditions="VAR_keyheld_shift=1 and key=space and keydown=1" output="erase-all-loops"/>
<binding input="key" conditions="key=u and keydown=1" output="erase-loop" parameters="loopid=SYSTEM_loopid_lastrecord_0"/>
<!-- HELP: Maj + ^2: Active le mode overdub -->
<!-- tilde -->
<binding input="key" conditions="VAR_keyheld_shift=1 and key=world18 and keydown=1" output="toggle-variable" parameters="var=VAR_overdubmode and maxvalue=1"/>
<!-- tilde -->
<!-- HELP: ^2: Active le mode cut -->
<binding input="key" conditions="key=world18 and keydown=1" output="toggle-variable" parameters="var=VAR_cutmode and maxvalue=1"/>
<!--
 HELP: z/x: Page prec/suiv des boucles sur l'interface courante 
-->
<!--
 HELP::    NOTE: ne marche pas sur l'interface de controle avec le  clavier.
-->
<!-- Defined in interfaces -->
<!-- HELP: F9: Active l'autosauvegarde des boucles -->
<binding input="key" conditions="key=f9 and keydown=1" output1="toggle-variable" parameters1="var=VAR_auto_loop_save and maxvalue=1" output2="set-auto-loop-saving" parameters2="save=VAR_auto_loop_save"/>
<!-- HELP: F8: Enregistre la derniere boucle creee -->
<binding input="key" conditions="key=f8 and keydown=1" output="save-loop" parameters="loopid=SYSTEM_loopid_lastrecord_0"/>
<!-- HELP: Maj + F7: Enregistre une nouvelle session -->
<binding input="key" conditions="VAR_keyheld_shift=1 and key=f7 and keydown=1" output="save-new-scene"/>
<!-- HELP: F7: Enregistre la scene courante -->
<binding input="key" conditions="key=f7 and keydown=1" output="save-current-scene"/>
<!-- HELP: F10: Transfere les boucles actives vers QTractor -->
<binding input="key" conditions="key=f10 and keydown=1" output="transmit-playing-loops-to-daw"/>
<!-- HELP: -->
<!-- HELP: __ NAVIGATEURS __ -->
<!-- HELP: -->
<!-- HELP: b: Change le navigateur : -->
<!-- HELP::    - choix du patch/canal midi -->
<!-- HELP::    - import des boucles depuis le disque -->
<!-- HELP::    - chargement des sessions depuis le disque -->
<binding input="key" conditions="key=b and keydown=1" output1="video-show-display" parameters1="interfaceid=0 and displayid=VAR_cur_browser and show=0" output2="toggle-variable" parameters2="var=VAR_cur_browser and maxvalue=VAR_max_browser" output3="video-show-display" parameters3="interfaceid=0 and displayid=VAR_cur_browser and show=1"/>
<!--
 HELP: gauche/droite: Choix entre les deux navigateurs suivants : 
-->
<!-- 
HELP:    gauche : patch/soundfont fluidsynth 
-->
<!-- 
HELP:     - droite : canal MIDI de sortie 
-->
<binding input="key" conditions="key=left and keydown=1" output="patchbrowser-move-to-bank" parameters="direction=-1"/>
<binding input="key" conditions="key=right and keydown=1" output="patchbrowser-move-to-bank" parameters="direction=1"/>
<!-- HELP: (Ctrl) Entree: Renomme un element du navigateur -->
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=return and keydown=1" output="browser-rename-item" parameters="browserid=VAR_cur_browser"/>
<!--HELP: Entree: Choisi l'element dans le navigateur. -->
<!-- 
HELP::    NOTE: Quand une boucle est choisie, elle est placee dans la zone SW  (bas droite), il suffit de cliquer dans la zone ou l'on souhaite voir apparaitre cette boucle pour la deplacer. 
-->

<binding input="key" conditions="VAR_cur_browser=DISPLAY_browser_loop and key=return and keydown=1" output1="set-variable" parameters1="var=VAR_xferloop and value=1" output2="set-variable" parameters2="var=VAR_xferidx and value=VAR_loopid_footswitch" output3="browser-select-item" parameters3="browserid=VAR_cur_browser"/>
<binding input="key" conditions="key=return and keydown=1" output="browser-select-item" parameters="browserid=VAR_cur_browser"/>
<!--HELP: (Maj) [)/=] {+}/{-}: (Saute)/Change la ligne dans le navigateur -->
<binding input="key" conditions="VAR_keyheld_shift=1 and VAR_laptopkeymode=1 and key=closeparen and keydown=1" output="browser-move-to-item" parameters="browserid=VAR_cur_browser and adjust=0 and jumpadjust=-1"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and VAR_laptopkeymode=1 and key=equal and keydown=1" output="browser-move-to-item" parameters="browserid=VAR_cur_browser and adjust=0 and jumpadjust=1"/>
<binding input="key" conditions="VAR_laptopkeymode=1 and key=minus and keydown=1" output="browser-move-to-item" parameters="browserid=VAR_cur_browser and adjust=-1 and jumpadjust=0"/>
<binding input="key" conditions="VAR_laptopkeymode=1 and key=equal and keydown=1" output="browser-move-to-item" parameters="browserid=VAR_cur_browser and adjust=1 and jumpadjust=0"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=KPminus and keydown=1" output="browser-move-to-item" parameters="browserid=VAR_cur_browser and adjust=0 and jumpadjust=-1"/>
<binding input="key" conditions="VAR_keyheld_shift=1 and key=KPplus and keydown=1" output="browser-move-to-item" parameters="browserid=VAR_cur_browser and adjust=0 and jumpadjust=1"/>
<binding input="key" conditions="key=KPminus and keydown=1" output="browser-move-to-item" parameters="browserid=VAR_cur_browser and adjust=-1 and jumpadjust=0"/>
<binding input="key" conditions="key=KPplus and keydown=1" output="browser-move-to-item" parameters="browserid=VAR_cur_browser and adjust=1 and jumpadjust=0"/>
<!-- HELP: -->
<!-- HELP: __ GESTION DU TEMPS ET DE LA SYNCHRO __ -->
<!-- HELP: -->
<!-- HELP: Maj + F1: Affiche/Cache le paneau d'info sur les options de synchro -->
<binding input="key" conditions="VAR_keyheld_shift=1 and key=f1 and keydown=1" output1="toggle-variable" parameters1="var=VAR_syncpanel_show and maxvalue=1" output2="video-show-display" parameters2="displayid=DISPLAY_syncpanel and show=VAR_syncpanel_show"/>
<!-- HELP: (espace) F1: (Supprime)/Cree/Choisi la pulsation -->
<binding input="key" conditions="VAR_keyheld_space=1 and key=f1 and keydown=1" output="delete-pulse" parameters="pulse=0"/>
<binding input="key" conditions="key=f1 and keydown=1" output="select-pulse" parameters="pulse=0"/>
<!--HELP: Maj/Ctrl + S: Ajuste (+/-) les temps de la synchro. -->
<!-- 
HELP::    NOTE: deux modes sont disponibles :
-->
<!--
 HELP::        - nombre de mesures (bars) par pulsation 
-->
<!--
 HELP::        - nombre de noires (beats) par pulsation 
-->
<!--
 HELP::        Pensez a activer le panneau d'info sur la 
-->
<!--
 HELP::        synchro (Maj+F1) pour voir ce que vous faites. 
-->
<binding input="key" conditions="VAR_keyheld_shift=1 and key=s and keydown=1" output1="set-variable" parameters1="var=VAR_numsync_per_pulse and value=VAR_numsync_per_pulse+1" output2="set-sync-speed" parameters2="speed=VAR_numsync_per_pulse"/>
<binding input="key" conditions="VAR_keyheld_ctrl=1 and key=s and keydown=1" output1="set-variable" parameters1="var=VAR_numsync_per_pulse and value=VAR_numsync_per_pulse-1" output2="set-sync-speed" parameters2="speed=VAR_numsync_per_pulse"/>
<!-- HELP: Alt + S: mode mesures ou noires par pulsation pour la synchro -->
<binding input="key" conditions="VAR_keyheld_alt=1 and key=s and keydown=1" output1="toggle-variable" parameters1="var=VAR_synctype and maxvalue=1" output2="set-sync-type" parameters2="type=VAR_synctype"/>
<!--HELP: Maj + F2: Active/Desactive l'envoie de la synchro MIDI -->
<!--
 HELP:: (MIDI Sync Xmit) et synchronise le metronome 
-->
<binding input="key" conditions="VAR_keyheld_shift=1 and key=f2 and keydown=1" output1="toggle-variable" parameters1="var=VAR_midisync and maxvalue=1" output2="set-midi-sync" parameters2="midisync=VAR_midisync"/>
<!-- HELP: F2: Definir le tempo manuellement -->
<binding input="key" conditions="key=f2 and keydown=1" output="tap-pulse" parameters="pulse=0 and newlen=1"/>
<!--

    <binding input="midicontroller"
     conditions="controlnum=VAR_midi_footswitch and controlval=VAR_switch_on"
     output="tap-pulse" parameters="pulse=0 and newlen=1"/>
      
-->
<!-- HELP: [F5] F11: Active le metronome -->
<binding input="key" conditions="VAR_laptopkeymode=1 and key=f5 and keydown=1" output1="toggle-variable" parameters1="var=VAR_switch_metronome and maxvalue=1" output2="switch-metronome" parameters2="pulse=0 and metronome=VAR_switch_metronome"/>
<binding input="key" conditions="key=f11 and keydown=1" output1="toggle-variable" parameters1="var=VAR_switch_metronome and maxvalue=1" output2="switch-metronome" parameters2="pulse=0 and metronome=VAR_switch_metronome"/>
<!--HELP: [F6] F12: Ne pas choisir de pulsation - tempo libre -->
<binding input="key" conditions="VAR_laptopkeymode=1 and key=f6 and keydown=1" output="select-pulse" parameters="pulse=-1"/>
<binding input="key" conditions="key=f12 and keydown=1" output="select-pulse" parameters="pulse=-1"/>
<!-- Update held keyboard states -->
<!--
 This should be done at the end in case any other bindings respond to
         these keys. 
-->
<binding input="key" conditions="key=space" output="set-variable" parameters="var=VAR_keyheld_space and value=keydown"/>
<binding input="key" conditions="key=up and VAR_keyheld_ctrl=1" output1="set-variable" parameters1="var=VAR_keyheld_up and value=keydown" output2="adjust-selected-loops-amp" parameters2="setid=0 and ampfactor=1.0/VAR_loopamp_adj"/>
<binding input="key" conditions="key=up" output="set-variable" parameters="var=VAR_keyheld_up and value=keydown"/>
<binding input="key" conditions="key=down and VAR_keyheld_ctrl=1" output1="set-variable" parameters1="var=VAR_keyheld_down and value=keydown" output2="adjust-selected-loops-amp" parameters2="setid=0 and ampfactor=VAR_loopamp_adj"/>
<binding input="key" conditions="key=down" output="set-variable" parameters="var=VAR_keyheld_down and value=keydown"/>
<binding input="key" conditions="key=leftshift" output1="set-variable" parameters1="var=VAR_keyheld_shift and value=keydown" output2="video-show-display" parameters2="interfaceid=0 and displayid=DISPLAY_scenes and show=keydown"/>
<binding input="key" conditions="key=rightshift" output1="set-variable" parameters1="var=VAR_keyheld_shift and value=keydown" output2="video-show-display" parameters2="interfaceid=0 and displayid=DISPLAY_scenes and show=keydown"/>
<binding input="key" conditions="key=leftctrl" output1="set-variable" parameters1="var=VAR_keyheld_ctrl and value=keydown" output2="video-show-display" parameters2="interfaceid=0 and displayid=DISPLAY_scenes and show=keydown"/>
<binding input="key" conditions="key=rightctrl" output1="set-variable" parameters1="var=VAR_keyheld_ctrl and value=keydown" output2="video-show-display" parameters2="interfaceid=0 and displayid=DISPLAY_scenes and show=keydown"/>
<binding input="key" conditions="key=leftalt" output="set-variable" parameters="var=VAR_keyheld_alt and value=keydown"/>
<binding input="key" conditions="key=rightalt" output="set-variable" parameters="var=VAR_keyheld_alt and value=keydown"/>
</bindings>
<graphics>
<!--
 You can also have FreeWheeling display system and user-defined variables
       such as midi transposition, or the last pressed midi key. This is done
       by defining 'display' sections: 
-->
<display var="SYSTEM_midi_transpose" type="text" font="small" title="Xp " pos="0.0,0.9"/>
<display var="SYSTEM_audio_cpu_load/100" type="bar" font="main" title="CPU" pos="0.05,0.8" orientation="vertical" barscale="0.3" thickness="0.03"/>
<display var="SYSTEM_master_in_volume" type="bar" font="main" title="IN" pos="0.245,0.8" orientation="vertical" barscale="0.3" thickness="0.07" dbscale="1" marks="1"/>
<display var="SYSTEM_in_1_volume" type="bar-switch" switchvar="SYSTEM_in_1_record" orientation="vertical" pos="0.20,0.8" barscale="0.3" thickness="0.025" dbscale="1"/>
<display var="SYSTEM_in_2_volume" type="bar-switch" switchvar="SYSTEM_in_2_record" orientation="vertical" pos="0.23,0.8" barscale="0.3" thickness="0.025" dbscale="1"/>
<display var="SYSTEM_in_3_volume" type="bar-switch" switchvar="SYSTEM_in_3_record" orientation="vertical" pos="0.26,0.8" barscale="0.3" thickness="0.025" dbscale="1"/>
<display var="SYSTEM_in_4_volume" type="bar-switch" switchvar="SYSTEM_in_4_record" orientation="vertical" pos="0.29,0.8" barscale="0.3" thickness="0.025" dbscale="1"/>
<display var="SYSTEM_in_1_peak" type="bar-switch" switchvar="SYSTEM_in_1_record" orientation="vertical" pos="0.20,0.8" barscale="0.3" thickness="0.015" color="2" calibrate="0.9" dbscale="1"/>
<display var="SYSTEM_in_2_peak" type="bar-switch" switchvar="SYSTEM_in_2_record" orientation="vertical" pos="0.23,0.8" barscale="0.3" thickness="0.015" color="2" calibrate="0.9" dbscale="1"/>
<display var="SYSTEM_in_3_peak" type="bar-switch" switchvar="SYSTEM_in_3_record" orientation="vertical" pos="0.26,0.8" barscale="0.3" thickness="0.015" color="2" calibrate="0.9" dbscale="1"/>
<display var="SYSTEM_in_4_peak" type="bar-switch" switchvar="SYSTEM_in_4_record" orientation="vertical" pos="0.29,0.8" barscale="0.3" thickness="0.015" color="2" calibrate="0.9" dbscale="1"/>
<display var="SYSTEM_master_out_volume" type="bar" font="main" title="OUT" pos="0.45,0.8" orientation="vertical" barscale="0.3" thickness="0.03" dbscale="1" marks="1"/>
<display var="SYSTEM_cur_limiter_gain" type="bar" font="main" title="LMT" pos="0.6,0.8" orientation="vertical" barscale="0.3" thickness="0.03" dbscale="1" marks="1"/>
<display var="VAR_overdubfeedback" type="bar" font="main" title="FBK" pos="0.75,0.8" orientation="vertical" barscale="0.3" thickness="0.03"/>
<!--

    <display var="VAR_overdubfeedback" type="bar" font="small"
     title="FBK" pos="0.7,0.9" orientation="vertical" barscale="0.04"
     thickness="0.01"/>
     
-->
<display var="SYSTEM_num_recording_loops_in_map" type="circle-switch" pos="0.95,0.815" size1="0.02" size0="0.01" flash="0"/>
<display var="SYSTEM_fluidsynth_enabled" type="switch" font="small" pos="0.895,0.64" title="SYNTH"/>
<display var="VAR_auto_loop_save" type="switch" font="small" pos="0.914,0.68" title="SAVE"/>
<display var="VAR_xferloop" type="switch" font="small" pos="0.925,0.6" title="XFR"/>
<display var="VAR_overdubmode" type="switch" font="small" pos="0.925,0.72" title="DUB"/>
<display var="VAR_cutmode" type="switch" font="small" pos="0.925,0.76" title="CUT"/>
<!-- Sync panel -->
<display id="DISPLAY_syncpanel" show="0" type="panel" font="small" title="Sync Panel" pos="0.69,0.5" size="0.3,0.17">
<display var="VAR_numsync_per_pulse" id="1000" type="text" font="small" title="sync " pos="0.0,0.07"/>
<display var="VAR_synctype" id="1001" type="text-switch" font="small" pos="0.1,0.07" text0="bars per pulse" text1="beats per pulse"/>
<display var="SYSTEM_sync_active" id="1002" type="circle-switch" font="small" title="Jack Sync" pos="0.02,0.12" size1="0.012" size0="0.01" flash="0"/>
<display var="SYSTEM_sync_transmit" id="1003" type="circle-switch" font="small" title="Jack Sync XMit" pos="0.02,0.16" size1="0.012" size0="0.01" flash="0"/>
<display var="SYSTEM_midisync_transmit" id="1004" type="circle-switch" font="small" title="MIDI Sync Xmit" pos="0.02,0.20" size1="0.012" size0="0.01" flash="0"/>
</display>
<display interfaceid="0" id="DISPLAY_scenes" show="0" type="snapshots" font="small" pos="0.69,0.15" size="0.3,0.22" title="SNAPS"/>
</graphics>
</interface>
